<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <script>
            /*
            배열: java와는 다르게 여러 타입의 자료를 저장할 수 있는 메모리구조
            */
           // 선언방법1) 코어객체를 사용하고 크기를 지정하여 선언
            var array = new Array(5);

            document.write("배열의 크기: " + array.length);
            document.write("<h2>배열 초기화 전 출력</h2>");
            // 초기화히지 않았으므로 undefined가 출력됌
            for(var i = 0; i <array.length; i++){
                document.write("array[" + i + "] = " + array[i] + "<br/>");
            }
            // 배열 초기화: JS에선 어떤 타입의 값이든 모두 저장 가능
            array[0] = 100;
            array[1] = "자바스크립트";
            array[2] = new Date();
            array[3] = 3.14;
            array[4] = false;

            document.write("<h2>배열 초기화 후 출력</h2>");
            // 위에서 초기화한 값이 정상적으로 출력됌
            for(var i = 0; i < array.length; i++){
                document.write(i + "번방의 자료형: " + typeof(array[i])
                                +", array[" + i + "] = " + array[i] + "<br/>");
            }

            // 선언방법2) 선언과 동시에 초기화 진행
            var init = new Array("홍길동", 20, "가산디지털", "010-1234-5678");
            document.write("<h2>선언과 동시에 초기화 후 출력</h2>");
            // 크기가 4인 배열로 초기화되어 출력됌
            for(var i = 0; i < init.length; i++){
                document.write(i+"번방 자료형: " + typeof(init[i])
                                + ", init[" + i +"] = " + init[i] + "<br/>");
            }
            /*
            선언방법3)
            선언과 동시에 초기화하는 방법으로 
            해당 방식은 차후 JSON에서 객체배열로 많이 사용
            */
            var initNoNew = ["KOSMO" , 1, "Javascript", '메르디앙'];
            document.write("<h2>[] 이용하여 배열선언 후 출력</h2>");
            // 크기가 4인 배열로 선언되어 출력됌
            for(var i = 0; i < initNoNew.length; i++){
                document.write(i+"번방 자료형: " + typeof(initNoNew[i])
                                + ", initNoNew[" + i + "] = " + initNoNew[i] + "<br/>");
            }

            /*
            선언방법4)
            웹프로그래밍에서 가장 많이 사용되는 방법으로
            배열의 크기를 지정하지 않은 상태로 선언하고,
            마지막 자료에 의해 크기가 결정됌
            */
            document.write("<h2>배열의 크기 미지정</h2>");
            
            var nosize = new Array();
            document.write("배열의 크기: " + nosize.length + "<br/>");
            nosize[0] = 100;
            nosize[3] = "JavaScript";
            document.write("배열의 크기: " + nosize.length + "<br/>");

            for(var i = 0; i < nosize.length; i++){
                document.write(i + "번방 자료형: " + typeof(nosize[i]) 
                                + ", nosize[" + i + "] = " + nosize[i] + "<br/>");
            }

        </script>
    </head>
    <body>
        <script>
            // 해당 페이지 전체에서 사용가능한 전역변수
            var studentArray = new Array();

            // 무기명함수 형태로 선언
            var getAverage = function(){
                var countOfStudent = document.getElementById("numOfStudent").value;
                //JS에선 함수 중간에 리턴을 사용해도 에러가 발생 않음

                /*
                prompt():
                사용자로부터 입력을 받을 수 있는 대화창으로
                디폴트값이 필요한 경우 두번째 인자를 사용하면 됌
                */
                var total = 0;
                for(var i = 0; i < countOfStudent; i++){
                    // 입력한 점수는 즉시 배열에 저장되고
                    studentArray[i] = parseInt(prompt(i + 1 + "번째 학생점수", "50"));
                    // 누적합을 계산
                    total += studentArray[i];
                }
                var average = total / countOfStudent;

                // 각 학생의 점수와 총점, 평균값을 하나의 문자열로 만든 후 alert로 출력
                var StringResult = "";
                for(var i = 0; i < countOfStudent; i++){
                    stringResult += (i + 1) + "번째 학생의 점수: " + studentArray[i] + "\r\n";
                }
                stringResult += "총점: " + total + ", 평균: " + average;
                alert(stringResult);
            }

        </script>

        <h2>배열을 이용한 평균구하기</h2>
        <!-- table>tr*2>td*2 -->
        <table border="1">
            <tr>
                <td>학생수입력:</td>
                <td><input type="text" id="numOfStudent" size="5" /></td>
            </tr>
            <tr>
                <td colspan="2">
                    <button type="button" 
                    onclick="getAverage();">평균구하기</button>
                </td>
            </tr>
        </table>

    </body>
</html>